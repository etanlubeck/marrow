/*
 * Marrow.js - 0.0.4 
 * Author : Jacob Lowe <http://jacoblowe.me> 
 */

(function(t){var e=function(t,n){return this instanceof e?(t.prototype=e.prototype,"function"==typeof n&&n(t),t):new e(t)};e.prototype=e.module={},e.prototype._events={},e.prototype.on=function(t,e){return"function"==typeof e&&"string"==typeof t&&("object"!=typeof this._events[t]&&(this._events[t]=[]),"number"==typeof this._events[t].length&&this._events[t].push(e)),this},e.prototype.emit=function(t){if("string"==typeof t&&"object"==typeof this._events[t]&&this._events[t].length)for(var e=[].slice.call(arguments),n=0;this._events[t].length>n;n+=1)this._events[t][n].apply(null,e.slice(1))},e.prototype.__setFn=e.__setFn=function(t){"function"==typeof func&&(this[t]=func)},e.prototype.to=function(t,e,n){if("string"==typeof t&&"function"==typeof e){var o="__"+t;this.__setFn(o,e),this[t]=function(){"function"==typeof this[o]&&this[o](),"open"===t?this.__state=1:"close"===t&&(this.__state=0),("number"==typeof n||n)&&(this.__state=n),this.emit(t)}}},e.prototype.getState=function(){return this.__state},t.Marrow=e})(this);