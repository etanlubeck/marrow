/*
 * Marrow.js - 0.0.6 
 * Author : Jacob Lowe <http://jacoblowe.me> 
 */

(function(t){var e=function(t,n){return this instanceof e?(Object.create&&Object.getPrototypeOf&&(t.prototype=Object.create(Object.getPrototypeOf(this))),"function"==typeof n&&n(t),t):new e(t)};e.prototype=e.plus={},e.prototype.__events=function(){this._events={}},e.prototype.on=function(t,e){return"function"==typeof e&&"string"==typeof t&&(this._events||this.__events(),"object"!=typeof this._events[t]&&(this._events[t]=[]),"number"==typeof this._events[t].length&&this._events[t].push(e)),this},e.prototype.emit=function(t){if("object"==typeof this._events&&"string"==typeof t&&"object"==typeof this._events[t]&&this._events[t].length)for(var e=[].slice.call(arguments),n=0;this._events[t].length>n;n+=1)this._events[t][n].apply(this,e.slice(1))},e.prototype.__extend=function(t,e,n){var o=this;this[t]=function(){"function"==typeof this[n]&&o[n].apply(this,arguments),"number"==typeof e&&(o.__state=e),o.emit(t)}},e.prototype.to=function(t,e,n){if("string"==typeof t&&"function"==typeof e){var o="__"+t;this[o]=e,this.__extend(t,n,o)}},e.prototype.getState=function(){return this.__state},t.Marrow=e})(this);